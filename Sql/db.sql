SET DB_CLOSE_DELAY -1;
CREATE USER IF NOT EXISTS "SA" SALT '5dfea9f1820d862a' HASH 'debf3a82f0e31f5d686a8f9fcce5aca723e46df36244896790561fe6bff89e45' ADMIN;
CREATE SCHEMA IF NOT EXISTS "COMMERCE" AUTHORIZATION "SA";
CREATE MEMORY TABLE "COMMERCE"."CUSTOMER"( "CODE" INTEGER NOT NULL, "NAME" VARCHAR(50), "CITY" VARCHAR(50) );
ALTER TABLE "COMMERCE"."CUSTOMER" ADD CONSTRAINT "COMMERCE"."CUSTOMER_PK" PRIMARY KEY("CODE");
-- 4 +/- SELECT COUNT(*) FROM COMMERCE.CUSTOMER;
INSERT INTO "COMMERCE"."CUSTOMER" VALUES (1, 'Arturo Illia', 'Pergamino'), (2, 'Arturo Frondizi', 'Paso de los Libres'), (3, 'Hipolito Yrigoyen', 'Buenos Aires'), (4, 'Bartolome Mitre', 'Buenos Aires');
CREATE MEMORY TABLE "COMMERCE"."SUPPLIER"( "CODE" INTEGER NOT NULL, "NAME" VARCHAR(50), "CITY" VARCHAR(50) );
ALTER TABLE "COMMERCE"."SUPPLIER" ADD CONSTRAINT "COMMERCE"."SUPPLIER_PK" PRIMARY KEY("CODE");
-- 4 +/- SELECT COUNT(*) FROM COMMERCE.SUPPLIER;
INSERT INTO "COMMERCE"."SUPPLIER" VALUES (1, 'Bandera', 'Rosario'), (2, 'Batalla', 'Maipu'), (3, 'Revolucion', 'Buenos Aires'), (4, 'Independencia', 'Tucuman');
CREATE MEMORY TABLE "COMMERCE"."WAREHOUSE"( "CODE" INTEGER NOT NULL, "NAME" VARCHAR(50), "CITY" VARCHAR(50) );
ALTER TABLE "COMMERCE"."WAREHOUSE" ADD CONSTRAINT "COMMERCE"."WAREHOUSE_PK" PRIMARY KEY("CODE");
-- 3 +/- SELECT COUNT(*) FROM COMMERCE.WAREHOUSE;
INSERT INTO "COMMERCE"."WAREHOUSE" VALUES (1, 'Pergamino', 'Pergamino'), (2, 'Baires I', 'Buenos Aires'), (3, 'Baires II', 'Buenos Aires');
CREATE MEMORY TABLE "COMMERCE"."PRODUCT"( "CODE" INTEGER NOT NULL, "NAME" VARCHAR(50), "COST" DECIMAL(10, 2), "PRICE" DECIMAL(10, 2) );
ALTER TABLE "COMMERCE"."PRODUCT" ADD CONSTRAINT "COMMERCE"."PRODUCT_PK" PRIMARY KEY("CODE");
-- 4 +/- SELECT COUNT(*) FROM COMMERCE.PRODUCT;
INSERT INTO "COMMERCE"."PRODUCT" VALUES (1, 'Earth', 234.00, 345.00), (2, 'Air', 432.00, 543.00), (3, 'Water', 345.00, 456.00), (4, 'Fire', 543.00, 654.00);
CREATE MEMORY TABLE "COMMERCE"."STORE"( "CODE" INTEGER NOT NULL, "NAME" VARCHAR(50), "CITY" VARCHAR(50) );
ALTER TABLE "COMMERCE"."STORE" ADD CONSTRAINT "COMMERCE"."STORE_PK" PRIMARY KEY("CODE");
-- 4 +/- SELECT COUNT(*) FROM COMMERCE.STORE;
INSERT INTO "COMMERCE"."STORE" VALUES (1, 'Pergamino', 'Pergamino'), (2, 'Libres', 'Paso de los Libres'), (3, 'Baires I', 'Buenos Aires'), (4, 'Baires II', 'Buenos Aires');
CREATE MEMORY TABLE "COMMERCE"."STOCK"( "PRODUCT_CODE" INTEGER NOT NULL, "WAREHOUSE_CODE" INTEGER NOT NULL, "QUANTITY" INTEGER );
ALTER TABLE "COMMERCE"."STOCK" ADD CONSTRAINT "COMMERCE"."STOCK_PK" PRIMARY KEY("PRODUCT_CODE", "WAREHOUSE_CODE");
-- 8 +/- SELECT COUNT(*) FROM COMMERCE.STOCK;
INSERT INTO "COMMERCE"."STOCK" VALUES (1, 1, 10), (2, 1, 15), (3, 1, 20), (4, 1, 25), (1, 2, 25), (3, 2, 20), (2, 3, 10), (4, 3, 14);
CREATE MEMORY TABLE "COMMERCE"."PRODUCT_SUPPLIER"( "PRODUCT_CODE" INTEGER NOT NULL, "SUPPLIER_CODE" INTEGER NOT NULL );
ALTER TABLE "COMMERCE"."PRODUCT_SUPPLIER" ADD CONSTRAINT "COMMERCE"."PRODUCT_SUPPLIER_PK" PRIMARY KEY("PRODUCT_CODE", "SUPPLIER_CODE");
-- 10 +/- SELECT COUNT(*) FROM COMMERCE.PRODUCT_SUPPLIER;
INSERT INTO "COMMERCE"."PRODUCT_SUPPLIER" VALUES (1, 1), (3, 1), (2, 2), (4, 2), (1, 3), (2, 3), (3, 3), (4, 3), (1, 4), (4, 4);
CREATE MEMORY TABLE "COMMERCE"."SALE"( "CODE" INTEGER NOT NULL, "CUSTOMER_CODE" INTEGER, "STORE_CODE" INTEGER, "SALE_DATE" DATE, "DELIVERY" DECIMAL(10, 2), "DISCOUNT" DECIMAL(10, 2) );
ALTER TABLE "COMMERCE"."SALE" ADD CONSTRAINT "COMMERCE"."SALE_PK" PRIMARY KEY("CODE");
-- 15 +/- SELECT COUNT(*) FROM COMMERCE.SALE;
INSERT INTO "COMMERCE"."SALE" VALUES (10, 1, 1, DATE '2016-01-01', 10.00, 0.00), (11, 2, 4, DATE '2016-02-01', 10.00, 10.00), (12, 3, 1, DATE '2016-02-01', 10.00, 20.00), (20, 1, 2, DATE '2016-01-02', 20.00, 10.00), (21, 2, 4, DATE '2016-02-02', 20.00, 20.00), (22, 3, 3, DATE '2016-02-02', 20.00, 30.00), (30, 1, 3, DATE '2016-02-03', 30.00, 20.00), (31, 2, 4, DATE '2016-02-03', 30.00, 30.00), (32, 3, 1, DATE '2016-02-03', 30.00, 0.00), (40, 1, 4, DATE '2016-02-04', 40.00, 30.00), (41, 2, 4, DATE '2016-02-04', 40.00, 0.00), (42, 3, 3, DATE '2016-02-04', 40.00, 10.00), (50, 2, 4, DATE '2016-02-05', 0.00, 0.00), (51, 2, 4, DATE '2016-02-05', 0.00, 10.00), (52, 4, 4, DATE '2016-02-05', 0.00, 20.00);
CREATE MEMORY TABLE "COMMERCE"."SALE_ITEM"( "SALE_CODE" INTEGER NOT NULL, "PRODUCT_CODE" INTEGER NOT NULL, "QUANTITY" INTEGER, "COST" DECIMAL(10, 2), "PRICE" DECIMAL(10, 2) );
ALTER TABLE "COMMERCE"."SALE_ITEM" ADD CONSTRAINT "COMMERCE"."SALE_ITEM_PK" PRIMARY KEY("SALE_CODE", "PRODUCT_CODE");
-- 17 +/- SELECT COUNT(*) FROM COMMERCE.SALE_ITEM;
INSERT INTO "COMMERCE"."SALE_ITEM" VALUES (10, 1, 1, 123.00, 234.00), (20, 1, 2, 123.00, 234.00), (20, 2, 1, 421.00, 532.00), (30, 1, 2, 123.00, 234.00), (30, 4, 1, 543.00, 632.00), (40, 1, 1, 234.00, 345.00), (50, 2, 1, 421.00, 532.00), (11, 4, 1, 543.00, 632.00), (21, 2, 3, 421.00, 532.00), (31, 4, 3, 543.00, 632.00), (41, 2, 2, 432.00, 543.00), (51, 4, 2, 543.00, 654.00), (12, 1, 1, 123.00, 234.00), (22, 2, 3, 432.00, 543.00), (32, 1, 3, 234.00, 345.00), (42, 2, 2, 432.00, 543.00), (52, 4, 4, 543.00, 654.00);